<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        
        img{
            position: absolute;
        }
    </style>
</head>
<body>
    <!-- 
        // 叶子 
            属性：  大小(100-150px)  位置  图片  速度
            
            方法：  初始化  下落 
    -->
    
    <script>
        var screenWidth = document.documentElement.clientWidth || document.body.clientWidth
        var screenHeight = document.documentElement.clientHeight||document.body.clientHeight
        // 叶子类
        function Leaf(){

            this.width = Math.random()*50+100;  //100-150
            this.pos = {
                left:Math.random()*(screenWidth-this.width), //0 - (screenWidth-this.width)    
                top:0     
            }
            this.speed = Math.floor(Math.random()*10)+1;
            var oImg = new Image();
            oImg.src = "img/"+( Math.floor(Math.random()*4)+1 )+".png";   
            oImg.style.width = this.width+"px";
            oImg.style.left = this.pos.left +"px";
            oImg.style.top = this.pos.top +"px";
            this.img = oImg;
        }
        Leaf.prototype.fall=function(){
            var that=this;
            var timer = setInterval(function(){
                if(that.img.offsetTop >= screenHeight-that.img.offsetHeight){
                    clearInterval(timer);
                }else{
                    that.img.style.top = that.img.offsetTop + that.speed +"px";
                }
        },10)
        // 开始的时间不同，速度相同
        // setTimeout(function(){
        //     var timer = setInterval(function(){
        //         if(that.img.offsetTop >= screenHeight-that.img.offsetHeight){
        //             clearInterval(timer);
        //         }else{
        //             that.img.style.top = that.img.offsetTop + that.speed +"px";
        //         }
        // },10)
        // },Math.random()*500)
        }


        // var leaf = new Leaf();
        x=Math.floor(Math.random()*6)+1;
        var leaf1=new Array(x);
        for(var i=0;i<x;i++){
            
            leaf1[i] = new Leaf();
            document.body.appendChild(leaf1[i].img);
        }
        
        // while(x--){
        //     leaf1 = new Leaf();
        //     document.body.appendChild(leaf1.img);
        // }
        
        
        document.onclick=function(){
            for(var i=0;i<x;i++){
                leaf1[i].fall();
        }
        }
        
        
    
    
    </script>
    

</body>
</html>